/*!
 * Dropdownhover v1.0.0 (http://bs-dropdownhover.kybarg.com)
 */
document.addEventListener("DOMContentLoaded", function () {
  const dropdowns = document.querySelectorAll(".dropdown");

  function isDesktop() {
    return window.innerWidth >= 768;
  }

  dropdowns.forEach((dropdown) => {
    const toggle = dropdown.querySelector('[data-toggle="dropdown"]');
    const menu = dropdown.querySelector(".dropdown-menu");

    if (!toggle || !menu) return;

    // Reset existing listeners
    dropdown.removeEventListener("mouseenter", handleEnter);
    dropdown.removeEventListener("mouseleave", handleLeave);

    function handleEnter() {
      if (!isDesktop()) return;
      menu.classList.add("show", "fade-slide");
    }

    function handleLeave() {
      if (!isDesktop()) return;
      menu.classList.remove("fade-slide");
      setTimeout(() => menu.classList.remove("show"), 200); // wait for animation to finish
    }

    dropdown.addEventListener("mouseenter", handleEnter);
    dropdown.addEventListener("mouseleave", handleLeave);
  });
});
